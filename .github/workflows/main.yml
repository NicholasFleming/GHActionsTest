name: "StaticCheck"
on: ["push", "pull_request"]

jobs:
  ci:
    name: "Run StatiCheck"
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
      with:
        fetch-depth: 1
    - uses: dorny/paths-filter@v3
      id: changes
      with:
        filters: |
         allChanges:
            - added|deleted|modified: '**'
    - if: steps.changes.outputs.allChanges == 'true'
      uses: dominikh/staticcheck-action@v1
      with:
        version: "latest"
